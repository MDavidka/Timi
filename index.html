<!doctype html>
<html lang="hu">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>idokapszula — Countdown</title>

  <!-- Tailwind via CDN (for a sleek modern minimalist look) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <style>
    /* Extra small custom styles to refine the minimalist look */
    :root{
      --bg-a: #0f172a; /* slate-900 */
      --bg-b: #071033; /* deep gradient */
      --glass: rgba(255,255,255,0.06);
      --accent: linear-gradient(90deg,#60a5fa,#7c3aed);
    }
    html,body{height:100%}
    body{
      background: radial-gradient(1200px 600px at 10% 10%, rgba(124,58,237,0.12), transparent 8%),
                  radial-gradient(1000px 500px at 90% 90%, rgba(96,165,250,0.06), transparent 10%),
                  linear-gradient(180deg,var(--bg-a),var(--bg-b));
      color: #e6eef8;
      -webkit-font-smoothing:antialiased;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    .card {
      backdrop-filter: blur(6px) saturate(120%);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
    }

    .digit {
      font-variant-numeric: tabular-nums;
      letter-spacing: -0.02em;
    }

    .pulse {
      animation: pulse 2s linear infinite;
    }

    @keyframes pulse {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      50% { transform: translateY(-2px) scale(1.005); opacity: 0.95; }
      100% { transform: translateY(0) scale(1); opacity: 1; }
    }

    .accent-line {
      background: var(--accent);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    /* subtle rotating ring */
    .ring {
      position: absolute;
      inset: -30%;
      filter: blur(28px) saturate(140%);
      opacity: 0.14;
      transform: rotate(12deg);
    }

    /* small decorative butterfly (SVG) */
    .butterfly {
      width: 48px;
      height: 48px;
      display:inline-block;
      transform-origin:center;
      transition: transform .36s ease;
    }
    .butterfly:hover{ transform: translateY(-6px) rotate(-6deg) scale(1.06) }
  </style>
</head>
<body>
  <main class="min-h-screen flex items-center justify-center px-6">
    <div class="relative w-full max-w-3xl">
      <div class="ring pointer-events-none">
        <svg viewBox="0 0 800 400" preserveAspectRatio="none" class="w-full h-full opacity-60">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0" stop-color="#60a5fa" stop-opacity="0.28"/>
              <stop offset="1" stop-color="#7c3aed" stop-opacity="0.28"/>
            </linearGradient>
          </defs>
          <ellipse cx="50%" cy="50%" rx="55%" ry="38%" fill="url(#g1)"></ellipse>
        </svg>
      </div>

      <section class="card relative rounded-2xl p-8 md:p-12">
        <div class="flex items-center justify-between gap-4 mb-6">
          <div class="flex items-center gap-4">
            <!-- SVG butterfly simple, decorative -->
            <svg class="butterfly" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M4 12c2-4 7-4 7-4s-3 3-1 6c2 4 6 3 7 2 1-1 4-4 2-6s-5-1-6 1c-1-2-4-4-7-3S3 9 4 12z"
                    fill="url(#bgrad)" opacity="0.95"/>
              <defs>
                <linearGradient id="bgrad" x1="0" x2="1">
                  <stop offset="0" stop-color="#60a5fa"/>
                  <stop offset="1" stop-color="#7c3aed"/>
                </linearGradient>
              </defs>
            </svg>

            <div>
              <h1 class="text-2xl md:text-3xl font-semibold">idokapszula</h1>
              <p class="text-sm text-slate-300 -mt-0.5">Minimal countdown — GMT+3</p>
            </div>
          </div>

          <div class="text-right">
            <div class="text-xs text-slate-400">Target</div>
            <div class="text-sm md:text-base font-medium accent-line">Sep 11 — 05:00 (GMT+3)</div>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-center">
          <!-- Digit blocks -->
          <div class="flex flex-col items-center justify-center p-4 rounded-xl card">
            <div id="days" class="text-4xl md:text-5xl font-extrabold digit">00</div>
            <div class="text-xs text-slate-300 mt-2 uppercase">Days</div>
          </div>

          <div class="flex flex-col items-center justify-center p-4 rounded-xl card">
            <div id="hours" class="text-4xl md:text-5xl font-extrabold digit">00</div>
            <div class="text-xs text-slate-300 mt-2 uppercase">Hours</div>
          </div>

          <div class="flex flex-col items-center justify-center p-4 rounded-xl card">
            <div id="minutes" class="text-4xl md:text-5xl font-extrabold digit">00</div>
            <div class="text-xs text-slate-300 mt-2 uppercase">Minutes</div>
          </div>

          <div class="flex flex-col items-center justify-center p-4 rounded-xl card">
            <div id="seconds" class="text-4xl md:text-5xl font-extrabold digit">00</div>
            <div class="text-xs text-slate-300 mt-2 uppercase">Seconds</div>
          </div>
        </div>

        <div class="mt-6 flex items-center justify-between">
          <div class="text-sm text-slate-300">
            <span class="font-medium">Timezone:</span> GMT+3 — Bucharest / Eastern Europe
          </div>

          <div id="status" class="text-sm text-emerald-300 font-medium"></div>
        </div>
      </section>

      <!-- footer tiny -->
      <footer class="mt-4 text-center text-xs text-slate-400">
        idokapszula • minimalist countdown
      </footer>
    </div>
  </main>

  <script>
    // === Countdown logic ===
    // Target: Sep 11 at 05:00 GMT+3. We'll compute the corresponding UTC moment.
    // Explanation: Sep 11 05:00 (GMT+3) equals Sep 11 02:00 UTC (05:00 - 3h = 02:00 UTC).
    // We'll pick the next occurrence of Sep 11 at that local time (this year or next if passed).
    (function(){
      // Helper: pad numbers
      const pad = n => String(n).padStart(2,'0');

      const elDays = document.getElementById('days');
      const elHours = document.getElementById('hours');
      const elMinutes = document.getElementById('minutes');
      const elSeconds = document.getElementById('seconds');
      const status = document.getElementById('status');

      function nextTargetUTC(){
        const now = new Date();

        // Determine year for upcoming Sep 11
        let year = now.getUTCFullYear();
        // target UTC values: month index 8 (September), day 11, hour 02 (UTC)
        let candidate = Date.UTC(year, 8, 11, 2, 0, 0); // Sept is month 8 (0-based)
        if (now.getTime() > candidate) {
          // already passed this year's target in UTC -> use next year
          year += 1;
          candidate = Date.UTC(year, 8, 11, 2, 0, 0);
        }
        return candidate;
      }

      let target = nextTargetUTC();

      function update(){
        const now = Date.now();
        let diff = target - now; // milliseconds

        if (diff <= 0) {
          // It's time (or passed). Show message and set all zeros.
          elDays.textContent = '00';
          elHours.textContent = '00';
          elMinutes.textContent = '00';
          elSeconds.textContent = '00';
          status.textContent = "It's time — idokapszula";
          // Optionally, after it has reached, switch target to next year so it can continue counting
          // but keep the "It's time" state for 10s then switch automatically.
          // We'll set the next target after 10s so user sees the message.
          clearInterval(timerInterval);
          setTimeout(()=> {
            target = nextTargetUTC(); // move to next occurrence
            status.textContent = '';
            timerInterval = setInterval(tick, 200);
            tick(); // immediate
          }, 10000);
          return;
        }

        // compute time parts
        const totalSeconds = Math.floor(diff / 1000);
        const seconds = totalSeconds % 60;
        const totalMinutes = Math.floor(totalSeconds / 60);
        const minutes = totalMinutes % 60;
        const totalHours = Math.floor(totalMinutes / 60);
        const hours = totalHours % 24;
        const days = Math.floor(totalHours / 24);

        elDays.textContent = pad(days);
        elHours.textContent = pad(hours);
        elMinutes.textContent = pad(minutes);
        elSeconds.textContent = pad(seconds);

        // small status showing local equivalent
        // compute target in local string of GMT+3 zone display (we will show date manually)
        const t = new Date(target);
        const tgtYear = t.getUTCFullYear();
        const tgtMonth = t.getUTCMonth() + 1; // 1-based month
        const tgtDay = t.getUTCDate();
        // local time at GMT+3 would be UTC +3 => Hour = UTC hour +3
        let tgtHourUTC = t.getUTCHours();
        let tgtHourGMT3 = (tgtHourUTC + 3) % 24;
        status.textContent = `Next: ${String(tgtDay).padStart(2,'0')}.${String(tgtMonth).padStart(2,'0')}.${tgtYear} ${String(tgtHourGMT3).padStart(2,'0')}:00 (GMT+3)`;
      }

      // Use a tick wrapper that updates every 200ms for snappy seconds
      function tick(){ update(); }
      let timerInterval = setInterval(tick, 200);
      tick();

      // small visual pulse when seconds change
      const secondsEl = document.getElementById('seconds');
      let lastSec = secondsEl.textContent;
      setInterval(() => {
        if (secondsEl.textContent !== lastSec) {
          secondsEl.classList.add('pulse');
          setTimeout(()=> secondsEl.classList.remove('pulse'), 420);
          lastSec = secondsEl.textContent;
        }
      }, 120);

      // Expose for debugging in console (optional)
      window.idokapszula = {
        getTargetUTC: () => target,
        recalc: () => { target = nextTargetUTC(); update(); }
      };
    })();
  </script>
</body>
</html>