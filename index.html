<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>idokapszula</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background: #101010;
      font-family: system-ui, sans-serif;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .countdown {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      justify-content: center;
      max-width: 90%;
      transition: all 1s ease-in-out;
    }
    .block {
      background: #fff;
      font-weight: bold;
      font-size: clamp(2rem, 8vw, 3rem);
      padding: 0.8rem 1.2rem;
      border-radius: 6px;
      min-width: 60px;
      text-align: center;
      flex: 1 1 auto;
    }
    .moved {
      position: absolute;
      top: 1rem;
      left: 50%;
      transform: translateX(-50%);
    }
    .highres {
      font-size: 1.5rem;
      color: #fff;
    }
    .highres small {
      font-size: 0.9rem;
      opacity: 0.7;
    }
    .rocket {
      position: absolute;
      bottom: -300px;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      text-align: center;
      transition: bottom 1s ease-out;
    }
    .rocket svg {
      width: 100%;
      height: auto;
      display: block;
    }
    .rocket-form {
      background: rgba(255,255,255,0.9);
      padding: 0.5rem;
      border-radius: 6px;
      margin-top: 0.5rem;
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
    }
    .rocket-form input[type="file"],
    .rocket-form input[type="text"] {
      font-size: 0.7rem;
      padding: 0.2rem;
    }
  </style>
</head>
<body>
  <!-- Countdown bar -->
  <div class="countdown" id="countdown">
    <div id="days" class="block">00</div>
    <div id="hours" class="block">00</div>
    <div id="minutes" class="block">00</div>
    <div id="seconds" class="block">00</div>
  </div>

  <!-- Rocket (hidden until triggered) -->
  <div id="rocket" class="rocket" style="display:none;">
    <svg viewBox="0 0 64 128" xmlns="http://www.w3.org/2000/svg">
      <path d="M32 0c-8 12-12 24-12 36v36l12 12 12-12V36C44 24 40 12 32 0z" fill="#ccc"/>
      <rect x="26" y="84" width="12" height="28" fill="#999"/>
      <polygon points="26,112 38,112 32,128" fill="#f33"/>
    </svg>
    <div class="rocket-form">
      <input type="file" accept="image/*">
      <input type="text" placeholder="Text input 1">
      <input type="text" placeholder="Text input 2">
    </div>
  </div>

  <script>
    (function(){
      const daysEl = document.getElementById('days');
      const hoursEl = document.getElementById('hours');
      const minutesEl = document.getElementById('minutes');
      const secondsEl = document.getElementById('seconds');
      const countdown = document.getElementById('countdown');
      const rocket = document.getElementById('rocket');
      const pad = n => String(n).padStart(2,'0');

      let target = Date.now() + 10000; // default 10s for testing
      let ended = false;

      // triple click to force 0
      let clicks = 0;
      daysEl.addEventListener('click', () => {
        clicks++;
        setTimeout(()=>clicks=0,400);
        if(clicks===3){
          target = Date.now();
          clicks=0;
        }
      });

      function update(){
        const now = Date.now();
        let diff = target - now;

        if(diff <= 0 && !ended){
          ended = true;
          // move countdown bar to top and switch to highres mode
          countdown.classList.add('moved');
          countdown.classList.add('highres');
          // clear blocks, use single element
          countdown.innerHTML = `<div class="block" id="highres">00:00:00<br><small>0000</small></div>`;
          // show rocket
          rocket.style.display="block";
          setTimeout(()=>rocket.style.bottom="20px",50);
        }

        if(!ended){
          const totalSeconds = Math.floor(Math.max(0,diff)/1000);
          const s = totalSeconds % 60;
          const totalMinutes = Math.floor(totalSeconds/60);
          const m = totalMinutes % 60;
          const totalHours = Math.floor(totalMinutes/60);
          const h = totalHours % 24;
          const d = Math.floor(totalHours/24);

          daysEl.textContent = pad(d);
          hoursEl.textContent = pad(h);
          minutesEl.textContent = pad(m);
          secondsEl.textContent = pad(s);
        } else {
          const t = new Date();
          const h = pad(t.getHours());
          const m = pad(t.getMinutes());
          const s = pad(t.getSeconds());
          const ns = String(t.getMilliseconds()).padStart(4,'0').slice(0,4);
          const highresEl = document.getElementById('highres');
          if(highresEl){
            highresEl.innerHTML = `${h}:${m}:${s}<br><small>${ns}</small>`;
          }
        }
      }

      setInterval(update,50);
      update();
    })();
  </script>
</body>
</html>